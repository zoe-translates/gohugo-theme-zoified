{{- $notfof := eq .RelPermalink "/404.html" | not -}}
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,shrink-to-fit=no">
    <title>{{ block "title" . }}{{- partial "title.html" . -}}{{ end }}</title>
    {{ partial "styles.html" . }}
    {{- if eq page.RelPermalink "/search/" }}
    {{ partial "style-search.html" . }}
    {{- end }}

    <link rel="canonical" href="{{ .Permalink }}">

    <meta name="description" content="{{ partial "description.html" . }}">
    <meta name="keywords" content="{{ delimit (partial "keywords.html" .) ", " }}">
    <meta name="author" content="{{ partial "author.html" . }}">
    {{ hugo.Generator }}

    {{- /* Favicons */}}
    <link rel="icon" href="{{ site.Params.assets.favicon | default "favicon.ico" | relURL }}" sizes="any"><!-- 32×32 -->
    <link rel="icon" href="{{ site.Params.assets.svgicon | default "icon.svg" | relURL }}" type="image/svg+xml">
    <link rel="apple-touch-icon" href="{{ site.Params.assets.apple_touch_icon | default "apple-touch-icon.png" | relURL }}"><!-- 180×180 -->

    {{- /* Feed, sitemap and manifest */}}
    {{- partial "alternate-outputs.html" . }}

    {{- range .AllTranslations }}
    <link rel="alternate" hreflang="{{ .Lang }}" href="{{ .Permalink }}">
    {{- end }}

    <meta name="theme-color" content="#ffffff">

    {{- block "custom-head" . }}{{ partial "custom-head.html" . }}{{ end -}}
    {{- block "custom-scripts" . }}{{ partial "custom-scripts.html" . }}{{ end -}}
    {{- if $notfof -}}
    {{- /* Misc */ -}}
    {{- template "partials/templates/opengraph.html" . }}
    {{- template "partials/templates/twitter_cards.html" . }}
    {{- template "partials/templates/schema_json.html" . }}
    {{- end -}}
    {{- /* Scripts */ -}}
    {{- partial "partials/scripts.html" . }}
</head>
